# Railway 플랜 다운그레이드 가이드

## 현재 상황 분석

### 현재 리소스 사용량
- **메모리**: ~150-160MB (현재 설정: 8GB)
- **CPU**: 매우 낮음 (현재 설정: 4 vCPU)
- **사용률**: 메모리 약 2%, CPU 약 5% 미만

### 현재 설정
- **CPU**: 4 vCPU
- **Memory**: 8 GB
- **동시 사용자**: 500명 대응 가능

## Hobby 플랜 다운그레이드 고려사항

### ✅ 다운그레이드 가능 여부 확인

**Railway 플랜별 일반적인 제한:**
- **Hobby 플랜**: 보통 2-4 vCPU, 2-4GB 메모리
- **Pro 플랜**: 보통 8-32 vCPU, 8-32GB 메모리

### ⚠️ 다운그레이드 전 확인 사항

1. **Hobby 플랜의 실제 리소스 제한 확인**
   - Railway Dashboard → Settings → Plan 확인
   - 최대 CPU/Memory 제한 확인
   - 현재 4 vCPU / 8GB 설정이 Hobby 플랜에서 지원되는지 확인

2. **현재 사용량 모니터링**
   - Metrics 탭에서 실제 사용률 확인
   - 피크 시간대 부하 확인

### 📊 리소스 사용량 기준 권장 사항

#### 현재 사용량 기준 (150MB)
```
권장 설정:
- CPU: 2 vCPU (충분)
- Memory: 2-4 GB (충분)
→ Hobby 플랜으로 충분할 가능성 높음
```

#### 500명 동시 사용자 예상
```
권장 설정:
- CPU: 4 vCPU
- Memory: 8 GB
→ Pro 플랜 필요할 수 있음
```

## 다운그레이드 전 체크리스트

### 1. ✅ 현재 실제 사용량 확인
```
Railway Dashboard → Metrics 탭 확인:
- 메모리 사용률: 현재 약 2%
- CPU 사용률: 현재 약 5% 미만
- 피크 시간대 부하 확인
```

### 2. ✅ Hobby 플랜 제한 확인
```
Railway Dashboard → Settings → Plan:
- 최대 CPU 제한 확인
- 최대 Memory 제한 확인
- 현재 설정(4 vCPU / 8GB)이 지원되는지 확인
```

### 3. ✅ 비용 비교
```
현재 플랜 비용 vs Hobby 플랜 비용 비교
- 실제 사용량이 낮으면 Hobby 플랜이 비용 효율적
- 하지만 리소스 제한이 있다면 Pro 플랜 유지
```

## 권장 결정 기준

### Hobby 플랜 다운그레이드 권장 상황

1. ✅ **현재 메모리 사용량이 500MB 이하**
   - 현재: 150MB → Hobby 플랜(2-4GB)으로 충분

2. ✅ **동시 사용자가 100명 이하**
   - 100명 기준: 약 950MB 필요
   - Hobby 플랜(2-4GB)으로 충분

3. ✅ **CPU 사용률이 50% 이하**
   - 현재: 매우 낮음
   - Hobby 플랜(2 vCPU)으로 충분

### Pro 플랜 유지 권장 상황

1. ⚠️ **500명 동시 사용자 목표**
   - 500명 기준: 약 4GB 필요
   - 8GB 여유 있음 → Pro 플랜 권장

2. ⚠️ **향후 확장 계획**
   - 사용자 증가 예상
   - 리소스 확장 필요성

3. ⚠️ **Hobby 플랜 제한 확인**
   - 4 vCPU / 8GB가 Hobby 플랜에서 지원되지 않는 경우

## 단계별 다운그레이드 절차

### 1단계: 현재 상태 확인
1. Railway Dashboard → Metrics 탭
   - 일주일간 평균 메모리/CPU 사용률 확인
   - 피크 시간대 확인

2. Railway Dashboard → Settings → Plan
   - 현재 플랜 확인
   - Hobby 플랜 제한 확인

### 2단계: 리소스 조정 (다운그레이드 전)
```
Hobby 플랜 제한에 맞춰 리소스 조정:
- CPU: 4 vCPU → 2 vCPU (Hobby 플랜 제한에 맞춰)
- Memory: 8 GB → 4 GB (Hobby 플랜 제한에 맞춰)
```

### 3단계: 테스트 기간
1. 리소스 조정 후 1주일간 모니터링
2. 성능 문제 없는지 확인
3. 사용자 피드백 확인

### 4단계: 플랜 다운그레이드
1. Railway Dashboard → Settings → Plan
2. Hobby 플랜으로 변경
3. 변경 사항 확인

## 비용 최적화 전략

### 현재 사용량 기준 최적 설정
```
실제 필요한 리소스:
- CPU: 2 vCPU (충분)
- Memory: 2-4 GB (충분)

권장 조정:
1. 리소스를 2 vCPU / 4 GB로 조정
2. Hobby 플랜으로 다운그레이드 검토
3. 모니터링 후 필요시 증가
```

### 단계적 최적화
```
1단계: 리소스만 조정 (2 vCPU / 4 GB)
  → 비용 절감, 성능 확인
  
2단계: Hobby 플랜 다운그레이드 검토
  → 추가 비용 절감
  
3단계: 필요시 리소스 증가
  → 사용량 증가 시 대응
```

## 주의사항

### ⚠️ 다운그레이드 시 주의할 점

1. **리소스 제한**
   - Hobby 플랜은 리소스 제한이 있을 수 있음
   - 4 vCPU / 8GB 설정이 불가능할 수 있음

2. **성능 저하 가능성**
   - 리소스 감소 시 성능 저하 가능
   - 모니터링 필수

3. **플랜 변경 후 되돌리기 어려울 수 있음**
   - 다시 업그레이드 시 설정 복원 필요
   - 변경 전 백업 권장

## 최종 권장사항

### 🎯 단계별 접근

1. **1단계: 리소스만 조정 (현재 플랜 유지)**
   ```
   CPU: 4 vCPU → 2 vCPU
   Memory: 8 GB → 4 GB
   ```
   - 비용 절감 (리소스 사용량 기반)
   - 플랜 변경 없이 안전하게 테스트

2. **2단계: 1주일 모니터링**
   - 메모리/CPU 사용률 확인
   - 성능 문제 확인
   - 사용자 피드백 확인

3. **3단계: Hobby 플랜 다운그레이드 검토**
   - 리소스 조정 후 문제없으면 플랜 다운그레이드 고려
   - Hobby 플랜 제한 확인 후 결정

### 💡 권장 순서

```
현재 (4 vCPU / 8 GB, Pro 플랜)
    ↓
1단계: 리소스 조정 (2 vCPU / 4 GB, Pro 플랜 유지)
    ↓
2단계: 1주일 모니터링
    ↓
3단계: Hobby 플랜 다운그레이드 검토
```

## 결론

**현재 사용량(150MB) 기준으로는 Hobby 플랜으로 충분합니다.**

하지만:
1. ✅ **먼저 리소스만 조정** (2 vCPU / 4 GB)
2. ✅ **1주일간 모니터링**
3. ✅ **문제없으면 Hobby 플랜 다운그레이드 검토**

이렇게 단계적으로 진행하는 것을 권장합니다.

